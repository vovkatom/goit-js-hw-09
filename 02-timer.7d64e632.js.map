{"mappings":"ICWI,EAXJ,MAAM,EAAiB,SAAS,cAAA,CAAe,mBACzC,EAAc,SAAS,aAAA,CAAc,sBACrC,EAAc,CAClB,KAAM,SAAS,aAAA,CAAc,qBAC7B,MAAO,SAAS,aAAA,CAAc,sBAC9B,QAAS,SAAS,aAAA,CAAc,wBAChC,QAAS,SAAS,aAAA,CAAc,uBAClC,EAEA,EAAY,SAAA,CAAU,GAAA,CAAI,mBAG1B,IAAI,EAAe,CAAA,CAEnB,kDAAiD;AACjD,MAAM,EAAsB,EAAe,aAAA,CAAc,SACnD,EAAyB,EAAe,aAAA,CAAc,uBAE5D,UAAU,EAAgB,CACxB,WAAY,CAAA,EACZ,UAAW,CAAA,EACX,YAAa,IAAI,KACjB,WAAY,CAAA,EACZ,cAAe,CAAA,EACf,gBAAiB,EACjB,QAAQ,CAAa,EACnB,IAAM,EAAe,CAAa,CAAC,EAAE,AACjC,CAAA,GAAgB,IAAI,MACtB,MAAM,sCACN,EAAY,QAAA,CAAW,CAAA,EACvB,EAAY,SAAA,CAAU,GAAA,CAAI,qBAE1B,EAAY,QAAA,CAAW,CAAA,EACvB,EAAY,SAAA,CAAU,MAAA,CAAO,mBAEjC,CACF,GA8CA,EAAY,gBAAA,CAAiB,QAAS,KACpC,GAAI,CAAC,EAAc,CACjB,IAAM,EAAe,UAAU,SAAA,CAAU,EAAe,KAAA,CAAO,aAC3D,IACF,AAhDN,SAAwB,CAAU,EAChC,SAAS,IACP,IAAM,EAAc,IAAI,KAClB,EAAiB,EAAa,EACpC,GAAI,GAAkB,EACpB,cAAc,GACd,OAAO,MAAA,CAAO,GAAa,OAAA,CAAQ,AAAC,GAAW,EAAM,WAAA,CAAc,MACnE,MAAM,cACN,EAAY,QAAA,CAAW,CAAA,EAEvB,yCAAyC;AACzC,EAAoB,QAAA,CAAW,CAAA,EAC/B,EAAuB,KAAA,CAAM,OAAA,CAAU,YAClC,CACL,IAAM,EAAO,AAgBnB,SAAmB,CAAE,EAEnB,IAEM,EAAM,MAOZ,MAAO,CAAE,KALI,KAAK,KAAA,CAAM,EAAK,GAKd,MAJD,KAAK,KAAA,CAAM,EAAM,EAJlB,MAQS,QAHN,KAAK,KAAA,CAAM,EAAO,EALrB,KADE,KASgB,QAFf,KAAK,KAAA,CAAS,EAAK,EANtB,KADE,IADA,IAUwB,CACzC,EA5B6B,GACvB,OAAO,OAAA,CAAQ,GAAM,OAAA,CAAQ,CAAC,CAAC,EAAK,EAAM,IACxC,CAAW,CAAC,EAAI,CAAC,WAAA,CAWhB,AAX6C,EAWvC,QAAA,GAAW,QAAA,CAAS,EAAG,IAVhC,EACF,CACF,CAEA,IAEA,EAAoB,YAAY,EAAa,IAC/C,EAwBqB,GACf,EAAY,QAAA,CAAW,CAAA,EACvB,EAAe,CAAA,EAEf,0CAA0C;AAC1C,EAAoB,QAAA,CAAW,CAAA,EAC/B,EAAuB,KAAA,CAAM,OAAA,CAAU,OAE3C,CACF,E,+D","sources":["<anon>","src/js/02-timer.js"],"sourcesContent":["var $40d383fb392a7037$exports = {};\nconst $40d383fb392a7037$var$datetimePicker = document.getElementById(\"datetime-picker\");\nconst $40d383fb392a7037$var$startButton = document.querySelector(\"button[data-start]\");\nconst $40d383fb392a7037$var$timerFields = {\n    days: document.querySelector(\".value[data-days]\"),\n    hours: document.querySelector(\".value[data-hours]\"),\n    minutes: document.querySelector(\".value[data-minutes]\"),\n    seconds: document.querySelector(\".value[data-seconds]\")\n};\n$40d383fb392a7037$var$startButton.classList.add(\"button-disabled\");\nlet $40d383fb392a7037$var$countdownInterval;\nlet $40d383fb392a7037$var$timerRunning = false;\n// Додамо змінні для посилань на input і календар\nconst $40d383fb392a7037$var$datetimePickerInput = $40d383fb392a7037$var$datetimePicker.querySelector(\"input\");\nconst $40d383fb392a7037$var$datetimePickerCalendar = $40d383fb392a7037$var$datetimePicker.querySelector(\".flatpickr-calendar\");\nflatpickr($40d383fb392a7037$var$datetimePicker, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    allowInput: true,\n    enableSeconds: true,\n    minuteIncrement: 1,\n    onClose (selectedDates) {\n        const selectedDate = selectedDates[0];\n        if (selectedDate <= new Date()) {\n            alert(\"Please choose a date in the future\");\n            $40d383fb392a7037$var$startButton.disabled = true;\n            $40d383fb392a7037$var$startButton.classList.add(\"button-disabled\");\n        } else {\n            $40d383fb392a7037$var$startButton.disabled = false;\n            $40d383fb392a7037$var$startButton.classList.remove(\"button-disabled\");\n        }\n    }\n});\nfunction $40d383fb392a7037$var$startCountdown(targetDate) {\n    function updateTimer() {\n        const currentDate = new Date();\n        const timeDifference = targetDate - currentDate;\n        if (timeDifference <= 0) {\n            clearInterval($40d383fb392a7037$var$countdownInterval);\n            Object.values($40d383fb392a7037$var$timerFields).forEach((field)=>field.textContent = \"00\");\n            alert(\"Time's up!\");\n            $40d383fb392a7037$var$startButton.disabled = true;\n            // Розблокувати input і показати календар\n            $40d383fb392a7037$var$datetimePickerInput.disabled = false;\n            $40d383fb392a7037$var$datetimePickerCalendar.style.display = \"block\";\n        } else {\n            const time = $40d383fb392a7037$var$convertMs(timeDifference);\n            Object.entries(time).forEach(([key, value])=>{\n                $40d383fb392a7037$var$timerFields[key].textContent = $40d383fb392a7037$var$addLeadingZero(value);\n            });\n        }\n    }\n    updateTimer();\n    $40d383fb392a7037$var$countdownInterval = setInterval(updateTimer, 1000);\n}\nfunction $40d383fb392a7037$var$addLeadingZero(value) {\n    return value.toString().padStart(2, \"0\");\n}\nfunction $40d383fb392a7037$var$convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const days = Math.floor(ms / day);\n    const hours = Math.floor(ms % day / hour);\n    const minutes = Math.floor(ms % day % hour / minute);\n    const seconds = Math.floor(ms % day % hour % minute / second);\n    return {\n        days: days,\n        hours: hours,\n        minutes: minutes,\n        seconds: seconds\n    };\n}\n$40d383fb392a7037$var$startButton.addEventListener(\"click\", ()=>{\n    if (!$40d383fb392a7037$var$timerRunning) {\n        const selectedDate = flatpickr.parseDate($40d383fb392a7037$var$datetimePicker.value, \"Y-m-d H:i\");\n        if (selectedDate) {\n            $40d383fb392a7037$var$startCountdown(selectedDate);\n            $40d383fb392a7037$var$startButton.disabled = true;\n            $40d383fb392a7037$var$timerRunning = true;\n            // Заблокувати input та приховати календар\n            $40d383fb392a7037$var$datetimePickerInput.disabled = true;\n            $40d383fb392a7037$var$datetimePickerCalendar.style.display = \"none\";\n        }\n    }\n});\n\n\n//# sourceMappingURL=02-timer.7d64e632.js.map\n","const datetimePicker = document.getElementById(\"datetime-picker\");\nconst startButton = document.querySelector(\"button[data-start]\");\nconst timerFields = {\n  days: document.querySelector(\".value[data-days]\"),\n  hours: document.querySelector(\".value[data-hours]\"),\n  minutes: document.querySelector(\".value[data-minutes]\"),\n  seconds: document.querySelector(\".value[data-seconds]\"),\n};\n\nstartButton.classList.add(\"button-disabled\");\n\nlet countdownInterval;\nlet timerRunning = false;\n\n// Додамо змінні для посилань на input і календар\nconst datetimePickerInput = datetimePicker.querySelector(\"input\");\nconst datetimePickerCalendar = datetimePicker.querySelector(\".flatpickr-calendar\");\n\nflatpickr(datetimePicker, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  allowInput: true,\n  enableSeconds: true,\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate <= new Date()) {\n      alert(\"Please choose a date in the future\");\n      startButton.disabled = true;\n      startButton.classList.add(\"button-disabled\");\n    } else {\n      startButton.disabled = false;\n      startButton.classList.remove(\"button-disabled\");\n    }\n  },\n});\n\nfunction startCountdown(targetDate) {\n  function updateTimer() {\n    const currentDate = new Date();\n    const timeDifference = targetDate - currentDate;\n    if (timeDifference <= 0) {\n      clearInterval(countdownInterval);\n      Object.values(timerFields).forEach((field) => (field.textContent = \"00\"));\n      alert(\"Time's up!\");\n      startButton.disabled = true;\n\n      // Розблокувати input і показати календар\n      datetimePickerInput.disabled = false;\n      datetimePickerCalendar.style.display = \"block\";\n    } else {\n      const time = convertMs(timeDifference);\n      Object.entries(time).forEach(([key, value]) => {\n        timerFields[key].textContent = addLeadingZero(value);\n      });\n    }\n  }\n\n  updateTimer();\n\n  countdownInterval = setInterval(updateTimer, 1000);\n}\n\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, \"0\");\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nstartButton.addEventListener(\"click\", () => {\n  if (!timerRunning) {\n    const selectedDate = flatpickr.parseDate(datetimePicker.value, \"Y-m-d H:i\");\n    if (selectedDate) {\n      startCountdown(selectedDate);\n      startButton.disabled = true;\n      timerRunning = true;\n      \n      // Заблокувати input та приховати календар\n      datetimePickerInput.disabled = true;\n      datetimePickerCalendar.style.display = \"none\";\n    }\n  }\n});\n"],"names":["$40d383fb392a7037$var$countdownInterval","$40d383fb392a7037$var$datetimePicker","document","getElementById","$40d383fb392a7037$var$startButton","querySelector","$40d383fb392a7037$var$timerFields","days","hours","minutes","seconds","classList","add","$40d383fb392a7037$var$timerRunning","$40d383fb392a7037$var$datetimePickerInput","$40d383fb392a7037$var$datetimePickerCalendar","flatpickr","enableTime","time_24hr","defaultDate","Date","allowInput","enableSeconds","minuteIncrement","onClose","selectedDates","selectedDate","alert","disabled","remove","addEventListener","parseDate","value","$40d383fb392a7037$var$startCountdown","targetDate","updateTimer","currentDate","timeDifference","clearInterval","Object","values","forEach","field","textContent","style","display","time","$40d383fb392a7037$var$convertMs","ms","day","hour","Math","floor","minute","second","entries","key","toString","padStart","setInterval"],"version":3,"file":"02-timer.7d64e632.js.map"}